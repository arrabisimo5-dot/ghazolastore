<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>GhazolaStore</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>GhazolaStore</h1>
  <p>Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</p>
</header>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ -->
<section class="login" id="loginBox">
  <h2>ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ</h2>
  <input type="password" id="adminPass" placeholder="Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</section>

<!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªÙˆØ¬ (Ù…Ø®ÙÙŠ Ø­ØªÙ‰ ØªØ¯Ø®Ù„ Ø¨Ø§Ù„ÙƒÙˆØ¯) -->
<section class="add-product" id="adminPanel" style="display:none;">
  <h2>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªÙˆØ¬</h2>
  <input type="file" id="imageInput" accept="image/*">
  <input type="text" id="nameInput" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªÙˆØ¬">
  <input type="number" id="priceInput" placeholder="Ø§Ù„Ø«Ù…Ù† Ø¨Ø§Ù„Ø¯Ø±Ù‡Ù…">
  <button onclick="addProduct()">Ø£Ø¶Ù Ø§Ù„Ù…Ù†ØªÙˆØ¬</button>
</section>

<hr>

<section>
  <h2 style="text-align:center;">ğŸ›ï¸ Ø§Ù„Ù…Ù†ØªÙˆØ¬Ø§Øª</h2>
  <div class="products" id="products"></div>
</section>

<script>
const ADMIN_PASSWORD = "ghazola123"; // ğŸ”´ Ø¨Ø¯Ù‘Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ Ù‡Ù†Ø§

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function login() {
  const pass = document.getElementById("adminPass").value;
  if (pass === ADMIN_PASSWORD) {
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("adminPanel").style.display = "block";
  } else {
    alert("Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ Ø®Ø·Ø£");
  }
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªÙˆØ¬Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©
function loadProducts() {
  const saved = JSON.parse(localStorage.getItem("products")) || [];
  saved.forEach(p => showProduct(p));
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªÙˆØ¬
function addProduct() {
  const image = document.getElementById("imageInput").files[0];
  const name = document.getElementById("nameInput").value;
  const price = document.getElementById("priceInput").value;

  if (!image || !name || !price) {
    alert("Ø¹Ù…Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø§Ù†Ø§Øª");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
    const product = {
      img: e.target.result,
      name: name,
      price: price
    };

    const saved = JSON.parse(localStorage.getItem("products")) || [];
    saved.push(product);
    localStorage.setItem("products", JSON.stringify(saved));

    showProduct(product);
  };

  reader.readAsDataURL(image);

  document.getElementById("imageInput").value = "";
  document.getElementById("nameInput").value = "";
  document.getElementById("priceInput").value = "";
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªÙˆØ¬
function showProduct(p) {
  const div = document.createElement("div");
  div.className = "product";
  div.innerHTML = `
    <img src="${p.img}">
    <h3>${p.name}</h3>
    <p class="price">${p.price} Ø¯Ø±Ù‡Ù…</p>
    <a href="https://wa.me/212641264611" class="btn">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a>
  `;
  document.getElementById("products").appendChild(div);
}

loadProducts();
</script>

</body>
</html>
